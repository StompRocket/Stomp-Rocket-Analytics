window.SR=function(i){this.version=i.version,this.appId=i.appId,i.config?this.config=i.config:this.config={apiKey:"AIzaSyBGxpBaFvFlgF94z6aXfCO1s4tT7NeXP9c",authDomain:"sr-analytics-a968c.firebaseapp.com",databaseURL:"https://sr-analytics-a968c.firebaseio.com",projectId:"sr-analytics-a968c",storageBucket:"sr-analytics-a968c.appspot.com",messagingSenderId:"857744111888"},console.log(`Stomp Rocket Analytics app version ${this.version}, app id ${this.appId}`);let s,e=firebase.initializeApp(this.config).database(),t=`apps/${this.appId}`;fetch("https://api.ipify.org?format=json").then(i=>i.json()).then(i=>{s=i}),firebase.auth().signInAnonymously().catch(function(i){i.code,i.message}),firebase.auth().onAuthStateChanged(i=>{let a=(new Date).getTime();if(i){this.uid=i.uid,e.ref(`${t}/users/${this.uid}/stats`).set({id:this.uid,version:this.version,lastSeen:a,lastIp:s});let n=e.ref(`${t}/users/${this.uid}/times`).push();n.set({id:this.uid,version:this.version,time:a,ip:s}),e.ref(`${t}/users/${this.uid}/times/${n.key}/timeOff`).set((new Date).getTime())}})};